<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.w3.org/1999/xhtml"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Trắc nghiệm NTT</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" type="image/x-icon" href="img/favicon.png">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/magnific-popup.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/themify-icons.css">
    <link rel="stylesheet" href="css/nice-select.css">
    <link rel="stylesheet" href="css/flaticon.css">
    <link rel="stylesheet" href="css/gijgo.css">
    <link rel="stylesheet" href="css/animate.min.css">
    <link rel="stylesheet" href="css/slicknav.css">
    <link rel="stylesheet" href="css/style.css">

    <style>
        @keyframes shimmer {
            0% {
                background-color: white;
            }
            50% {
                background-color: #00BFFF; /* Màu xanh dương */
            }
            100% {
                background-color: white;
            }
        }

        .shimmer-effect {
            animation: shimmer 5s infinite; /* Thời gian và kiểu lặp lại */
        }
        .header-area {
            position: fixed; /* Giữ header ở vị trí cố định */
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000; /* Đảm bảo header ở trên cùng */
                        transition: opacity 0.5s; /* Hiệu ứng chuyển đổi cho độ mờ */

        }
        .header-hidden {
            opacity: 0.9; /* Độ mờ header khi cuộn xuống */
        }
        .sidebar {
            width: 250px; /* Chiều rộng của sidebar */
            background: #f8f9fa; /* Màu nền của sidebar */
            height: 100vh; /* Chiều cao bằng chiều cao viewport */
            position: fixed; /* Gắn sidebar ở vị trí cố định */
            overflow-y: auto; /* Cuộn dọc nếu cần */
            padding: 20px; /* Padding cho sidebar */
            z-index: 1000; /* Đảm bảo sidebar nằm trên cùng */
            transition: transform 0.3s ease; /* Hiệu ứng chuyển đổi cho sidebar */
        }

        .sidebar-hidden {
            transform: translateX(-100%); /* Đưa sidebar ra ngoài màn hình */
        }

        .content {
            margin-left: 250px; /* Đảm bảo nội dung không bị che bởi sidebar */
            padding: 20px; /* Padding cho nội dung */
            transition: margin-left 0.3s; /* Hiệu ứng chuyển đổi cho nội dung */
        }

        .content-hidden {
            margin-left: 0; /* Đảm bảo nội dung chiếm toàn bộ không gian khi sidebar ẩn */
        }

        .toggle-btn {
            position: absolute;
            left: 250px; /* Vị trí của nút */
            top: 20px; /* Vị trí trên cùng */
            background-color: #007bff; /* Màu nền của nút */
            color: white; /* Màu chữ của nút */
            border: none; /* Bỏ viền */
            padding: 10px; /* Padding cho nút */
            cursor: pointer; /* Con trỏ khi hover */
            border-radius: 5px; /* Bo tròn các góc */
            z-index: 1001; /* Đảm bảo nút nằm trên sidebar */
            transition: left 0.3s; /* Hiệu ứng chuyển đổi cho vị trí nút */
        }

        .main-menu a {
            color: black; /* Màu chữ liên kết sẽ là màu đen */
        }

        .main-menu a:hover {
            color: #007bff; /* Màu chữ khi hover */
        }
    </style>
    <script>
        // Các script hiện tại khác của bạn

        window.addEventListener('scroll', function() {
            const header = document.querySelector('.header-area');
            if (window.scrollY > 50) { // Thay đổi giá trị 50 nếu cần
                header.classList.add('header-hidden');
            } else {
                header.classList.remove('header-hidden');
            }
        });
    </script>
    <script>
        let remainingTime; // thời gian còn lại nhận từ server

        // Hàm này sẽ được gọi khi trang được tải
        window.onload = function () {
            fetch('/time-remaining') // Lấy thời gian còn lại từ server
                .then(response => response.json())
                .then(data => {
                    remainingTime = data.remainingTime;
                    startCountdown();
                });
        };

        function startCountdown() {
            let countdownElement = document.getElementById("countdown");
            let interval = setInterval(function () {
                if (remainingTime <= 0) {
                    clearInterval(interval);
                    alert("Hết giờ!");
                } else {
                    remainingTime--;
                    countdownElement.innerHTML = formatTime(remainingTime);
                }
            }, 1000);
        }

        function formatTime(seconds) {
            let minutes = Math.floor(seconds / 60);
            let secs = seconds % 60;
            return `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        function fetchTime() {
            fetch('/time')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('time').innerText = data;
                });
        }

        setInterval(fetchTime, 1000); // Lấy thời gian mỗi giây
    </script>
</head>

<body>
<!--[if lte IE 9]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
<![endif]-->

<!-- header-start -->
<header>
    <div class="header-area">
        <div class="main-header-area shimmer-effect"> <!-- Thêm lớp shimmer-effect -->
            <div class="container-fluid">
                <div class="header_bottom_border">
                    <div class="row align-items-center">
                        <div class="col-xl-3 col-lg-2">
                            <div class="logo">
                                <button class="toggle-btn" id="toggleButton">Hiển thị</button>

                                <a href="index.html">
                                    <img src="img/logo_khongnen.png" alt="" height="100" width="180">
                                </a>
                            </div>
                        </div>
                        <div class="col-xl-6 col-lg-7">
                            <div class="main-menu d-none d-lg-block">
                                <nav>
                                    <ul id="navigation">
                                        <li><a href="index.html">Trang chủ</a></li>
                                        <li><a href="jobs.html">Thông báo</a></li>
                                        <li><a href="#">Pages <i class="ti-angle-down"></i></a>
                                            <ul class="submenu">
                                                <li><a href="candidate.html">Candidates </a></li>
                                                <li><a href="job_details.html">Job Details </a></li>
                                                <li><a href="elements.html">Elements</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#">Blog <i class="ti-angle-down"></i></a>
                                            <ul class="submenu">
                                                <li><a href="blog.html">Blog</a></li>
                                                <li><a href="single-blog.html">Single Blog</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="contact.html">Liên Hệ</a></li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                        <div class="col-xl-3 col-lg-3 d-none d-lg-block">
                            <div class="Appointment d-flex align-items-center"> <!-- Sử dụng d-flex để căn chỉnh ngang -->
                                <span style="font-weight:bold; white-space: nowrap;"><b>Chào mừng: </b></span> <!-- Sử dụng span để không xuống dòng -->
                                <a sec:authentication="name" style="font-weight:bold" class="mx-2"></a> <!-- Thêm class mx-2 để tạo khoảng cách -->
                                <form th:action="@{/logout}" method="post" class="mb-0"> <!-- mb-0 để loại bỏ margin dưới form -->
                                    <button class="btn btn-outline-light" style="background-color:blue" type="submit">Đăng xuất</button>
                                </form>
                                <a sec:authorize="hasAnyAuthority('ADMIN')" class="ml-2"> <!-- Thêm class ml-2 để tạo khoảng cách -->
                                    <button class="btn btn-outline-light" style="background-color:blue" type="submit">
                                        <a style="color: white" th:href="@{/cauhois}">Admin</a>
                                    </button>
                                </a>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="mobile_menu d-block d-lg-none"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
<!-- header-end -->

<!-- sidebar-menu -->
<div class="sidebar" id="sidebar">
    <h3>Menu</h3>
    <ul class="sidebar-menu">
        <li><a href="/cauhois">Quản lý câu hỏi</a></li>
        <li><a href="/cathis">Quản lý ca thi</a></li>
        <li><a href="/phongthis">Quản lý phòng thi</a></li>
        <li><a href="/monthis">Quản lý môn thi</a></li>
        <li><a href="/dethis">Quản lý đề thi</a></li>
        <li><a href="https://thithu.edu.vn/login">Đăng Nhập</a></li>
        <li><a href="https://thithu.edu.vn/register">Đăng Ký</a></li>
    </ul>
</div>

<!-- Nút đẩy ra và đưa vào -->

<!-- slider_area_start -->
<div class="content" id="content">
    <div class="slider_area">
        <div class="single_slider d-flex align-items-center slider_bg_2">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-7 col-md-6">
                        <div class="slider_text">
                            <h5 class="wow fadeInLeft" data-wow-duration="1s" data-wow-delay=".2s">Hãy cùng</h5>
                            <img src="img/logo_ntt_rbg.png" alt="" height="180" width="370">
                            <p class="wow fadeInLeft" data-wow-duration="1s" data-wow-delay=".4s">Nâng cao kiến thức nhé!!!!!</p>
                            <div class="sldier_btn wow fadeInLeft" data-wow-duration="1s" data-wow-delay=".5s">
                                <a href="#" class="boxed-btn3">Upload your Resume</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="ilstration_img wow fadeInRight d-none d-lg-block text-right" data-wow-duration="1s" data-wow-delay=".2s">
            <video width="600" height="430" controls>
                <source src="test/hutech.mp4" type="video/mp4">
                Trình duyệt của bạn không hỗ trợ video.
            </video>
        </div>
    </div>
    <!-- slider_area_end -->

    <div>
        <p>Thời gian hiện tại: <span id="time"></span></p>
        <p>Thời gian: <span id="countdown"></span></p>
    </div>
</div>
<!-- end content -->

<!-- footer start -->
<footer class="bg-primary text-white text-center py-4 mt-5">
    <div class="container d-flex justify-content-between">
        <div class="footer-left">
            <h5 class="mb-0">Trắc nghiệm NTT</h5>
            <p class="mb-0">© 2024 Tất cả quyền được bảo lưu.</p>
        </div>
        <div class="footer-content">
            <h5 class="mb-0">Thông tin liên hệ</h5>
            <p class="mb-0">Liên hệ: phanhieunghia1054@gmail.com</p>
        </div>
    </div>
</footer>
<!-- /footer end -->

<!-- JS here -->
<script src="js/vendor/modernizr-3.5.0.min.js"></script>
<script src="js/vendor/jquery-1.12.4.min.js"></script>
<script src="js/popper.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/owl.carousel.min.js"></script>
<script src="js/isotope.pkgd.min.js"></script>
<script src="js/ajax-form.js"></script>
<script src="js/waypoints.min.js"></script>
<script src="js/jquery.counterup.min.js"></script>
<script src="js/imagesloaded.pkgd.min.js"></script>
<script src="js/scrollIt.js"></script>
<script src="js/jquery.scrollUp.min.js"></script>
<script src="js/wow.min.js"></script>
<script src="js/nice-select.min.js"></script>
<script src="js/jquery.slicknav.min.js"></script>
<script src="js/jquery.magnific-popup.min.js"></script>
<script src="js/plugins.js"></script>
<script src="js/gijgo.min.js"></script>
<script src="js/contact.js"></script>
<script src="js/jquery.ajaxchimp.min.js"></script>
<script src="js/jquery.form.js"></script>
<script src="js/jquery.validate.min.js"></script>
<script src="js/mail-script.js"></script>
<script src="js/main.js"></script>

<script>
    // Thay đổi trạng thái của sidebar khi nhấn nút
    let isHidden = false;
    const sidebar = document.getElementById('sidebar');
    const content = document.getElementById('content');
    const toggleButton = document.getElementById('toggleButton');

    toggleButton.addEventListener('click', () => {
        isHidden = !isHidden;
        if (isHidden) {
            sidebar.classList.add('sidebar-hidden');
            content.classList.add('content-hidden');
            toggleButton.innerHTML = 'Hiển thị'; // Thay đổi biểu tượng nút
        } else {
            sidebar.classList.remove('sidebar-hidden');
            content.classList.remove('content-hidden');
            toggleButton.innerHTML = 'Ẩn'; // Thay đổi biểu tượng nút
        }
    });
</script>
</body>
</html>