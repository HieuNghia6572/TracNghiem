<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security5"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8">
    <title>Web trắc nghiệm</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        html, body {
            height: 100%; /* Đảm bảo chiều cao 100% */
            display: flex; /* Sử dụng Flexbox */
            flex-direction: column; /* Đặt hướng chiều dọc */
        }
        body {
            background-color: #f8f9fa; /* Màu nền xám nhạt */
            margin: 0; /* Bỏ margin mặc định để không có khoảng trống */
        }
        .container {
            flex: 1; /* Chiếm không gian còn lại */
        }
        .navbar-brand,
        .nav-link {
            font-weight: bold;
            color: black !important; /* Chữ màu đen */
        }
        .nav-link.active {
            color: black !important; /* Chữ màu đen cho link active */
        }
        .navbar-dark-custom {
            animation: backgroundChange 5s ease infinite; /* Hoạt ảnh chuyển nền */
        }
        @keyframes backgroundChange {
            0% {
                background-color: #ffffff; /* Trắng */
            }
            50% {
                background-color: #00BFFF; /* Xanh dương nhạt */
            }
            100% {
                background-color: #ffffff; /* Quay lại trắng */
            }
        }
        .navbar-light-custom {
            background-color: #ffffff; /* Màu nền trắng cho hàng thứ hai */
            height: 80px; /* Chiều cao của navbar */
            display: flex; /* Sử dụng Flexbox */
            justify-content: center; /* Căn giữa theo chiều ngang */
            align-items: center; /* Căn giữa theo chiều dọc */
        }

        /* Màu chữ cho các phần tử cần thiết */
        .text-black {
            color: black !important; /* Chữ màu đen */
        }

        /* Đổi kích thước chữ cho các liên kết dropdown */
        .navbar-brand.dropdown-toggle {
            font-size: 0.9rem; /* Thay đổi giá trị này để điều chỉnh kích thước chữ */
        }

        /* Định dạng khung dropdown */
        .dropdown-container {
            background-color: #ADD8E6; /* Màu xanh dương nhạt */
            padding: 10px; /* Khoảng cách bên trong */
            margin-right: 10px; /* Khoảng cách bên phải */
            border-radius: 5px; /* Bo góc cho khung */
        }

        /* Thiết lập kích thước cho tất cả hình ảnh trong dropdown */
        .dropdown-container img {
            width: 30px; /* Chiều rộng cố định */
            height: 30px; /* Chiều cao cố định */
            margin-right: 5px; /* Khoảng cách bên phải */
        }

        /* Animation lấp lánh */
        @keyframes glitter {
            0%, 100% {
                color: white; /* Màu trắng */
                text-shadow: 0 0 5px rgba(255, 255, 255, 0.5), 0 0 10px rgba(255, 255, 255, 0.5);
            }
            50% {
                color: lime; /* Màu xanh lá chuối */
                text-shadow: 0 0 10px rgba(0, 255, 0, 0.7), 0 0 20px rgba(0, 255, 0, 0.5);
            }
        }

        .greeting-animation {
            display: inline-block;
            position: relative; /* Để sử dụng transform chính xác */
            width: 40%; /* Chiều rộng của phần tử chứa (từ 30% đến 70%) */
            left: 5%; /* Bắt đầu từ 30% */
            animation: glitter 1.5s infinite; /* Thay đổi thời gian nếu cần */
            white-space: nowrap; /* Đảm bảo không xuống dòng */
            overflow: hidden; /* Ẩn phần vượt quá */
        }

        /* Định nghĩa chiều rộng cho navbar */
        .navbar-nav-custom {
            width: 7%; /* Đặt chiều rộng của navbar xuống 30% */
            flex-shrink: 0; /* Ngăn không cho nó thu nhỏ */
        }

        .expanded-div {
            width: 70%; /* Đặt chiều rộng cho div d-flex dài ra thêm 30% */
            display: flex; /* Đảm bảo nó là flex */
        }

        /* Ngăn chữ "Đăng Xuất" xuống dòng */
        .navbar-text {
            white-space: nowrap; /* Ngăn không cho chữ xuống dòng */
        }

        /* Thêm khoảng cách 10px cho div chứa */
        .margin-top-10 {
            margin-top: 10px; /* Tạo khoảng cách trên 10px */
        }

        /* Định nghĩa màu nút Đăng Xuất */
        .custom-blue {
            color: white !important; /* Màu chữ trắng */
            background-color: #007bff !important; /* Màu nền lam */
            border-color: #007bff !important; /* Màu viền lam */
        }

        .custom-blue:hover {
            background-color: #0056b3 !important; /* Màu nền khi hover */
            border-color: #0056b3 !important; /* Màu viền khi hover */
        }
    </style>
    <script>
        function fetchTime() {
            fetch('/time')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('time').innerText = data;
                });
        }

        setInterval(fetchTime, 1000); // Lấy thời gian mỗi giây
    </script>
</head>
<body>
<nav>
    <div class="navbar navbar-dark navbar-dark-custom">
        <div class="container-fluid d-flex justify-content-between align-items-center">
            <div class="expanded-div d-flex align-items-center">
                <div>
                    <img th:src="@{/img/logo_khongnen.png}" alt="Logo" style="max-width: 90px; height:55px;">
                </div>
                <a class="navbar-brand" th:href="@{/home}">Trang chủ |</a>
                <div class="greeting-animation">
                    <div class="overflow-hidden" style="width: 100%;">
                        <div id="note" class="d-flex align-items-center ps-2">
                            <img th:src="@{/img/logo_sach.png}" class="img-fluid rounded-circle border border-3 border-primary me-2" style="width: 30px; height: 30px;" alt="Logo">
                            <p class="text-black mb-0 link-hover">
                                <strong>Xin chào admin: <span sec:authentication="name"></span> đến với trang quản lý!!</strong>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="text-black">
                <p class="mb-0"><strong>| Thời gian hiện tại: <span id="time"></span> |</strong></p>
            </div>
            <ul class="navbar-nav navbar-nav-custom ms-auto mb-2 mb-lg-0 align-items-center text-black">
                <li class="nav-item d-flex align-items-center" sec:authorize="isAuthenticated()">
                    <span class="navbar-text text-black me-3">
                        <form th:action="@{/logout}" method="post">
                            <button class="btn custom-blue" type="submit">Đăng Xuất</button>
                        </form>
                    </span>
                </li>
                <li class="nav-item" sec:authorize="!isAuthenticated()">
                    <a class="btn btn-outline-light text-black" href="/login">Đăng Nhập</a>
                </li>
            </ul>
        </div>
    </div>

    <div class="navbar navbar-light navbar-light-custom" style="padding-top:20px;">
        <div class="container-fluid">
            <div class="row w-100">
                <div class="col-2 d-flex justify-content-center align-items-center margin-top-10">
                    <a href="#" class="navbar-brand">
                        <p class="text-primary display-6 mb-2 text-center" style="line-height: 0;">
                            <small class="fw-bold" style="letter-spacing: 12px; font-size: 3.6rem; color: rgba(255, 0, 0, 0.3); font-family: 'Times New Roman';">NTT</small>
                        </p>
                        <p class="text-primary display-6 mb-2 text-center">Trắc nghiệm</p>
                    </a>
                </div>
                <div class="col-10">
                    <div class="d-flex align-items-center justify-content-center">
                        <!-- Dropdown cho câu hỏi -->
                        <div class="dropdown-container">
                            <div class="dropdown me-3">
                                <img th:src="@{/img/anh_cauhoi_rbg.jpg}" alt="Ảnh Câu Hỏi">
                                <a class="navbar-brand dropdown-toggle" href="#" role="button" id="dropdownQuestions" data-bs-toggle="dropdown" aria-expanded="false">
                                    Quản lý câu hỏi
                                </a>
                                <ul class="dropdown-menu" aria-labelledby="dropdownQuestions">
                                    <li><a class="dropdown-item" aria-current="page" href="/cauhois">Danh sách câu hỏi</a></li>
                                    <li><a class="dropdown-item" aria-current="page" href="/cauhois/add">Thêm câu hỏi</a></li>
                                </ul>
                            </div>
                        </div>

                        <!-- Dropdown cho ca thi -->
                        <div class="dropdown-container">
                            <div class="dropdown me-3">
                                <img th:src="@{/img/anh_cathi_rbg.jpg}" alt="Ảnh Ca Thi">
                                <a class="navbar-brand dropdown-toggle" href="#" role="button" id="dropdownExams" data-bs-toggle="dropdown" aria-expanded="false">
                                    Quản lý ca thi
                                </a>
                                <ul class="dropdown-menu" aria-labelledby="dropdownExams">
                                    <li><a class="dropdown-item" aria-current="page" href="/cathis">Danh sách ca thi</a></li>
                                    <li><a class="dropdown-item" aria-current="page" href="/cathis/add">Thêm ca thi</a></li>
                                </ul>
                            </div>
                        </div>

                        <!-- Dropdown cho phòng thi -->
                        <div class="dropdown-container">
                            <div class="dropdown me-3">
                                <img th:src="@{/img/anh_phongthi_rbg.jpg}" alt="Ảnh Phòng Thi">
                                <a class="navbar-brand dropdown-toggle" href="#" role="button" id="dropdownRooms" data-bs-toggle="dropdown" aria-expanded="false">
                                    Quản lý phòng thi
                                </a>
                                <ul class="dropdown-menu" aria-labelledby="dropdownRooms">
                                    <li><a class="dropdown-item" aria-current="page" href="/phongthis">Danh sách phòng thi</a></li>
                                    <li><a class="dropdown-item" aria-current="page" href="/phongthis/add">Thêm phòng thi</a></li>
                                </ul>
                            </div>
                        </div>

                        <!-- Dropdown cho môn thi -->
                        <div class="dropdown-container">
                            <div class="dropdown me-3">
                                <img th:src="@{/img/anh_monthi_rbg.jpg}" alt="Ảnh Môn Thi">
                                <a class="navbar-brand dropdown-toggle" href="#" role="button" id="dropdownSubjects" data-bs-toggle="dropdown" aria-expanded="false">
                                    Quản lý môn thi
                                </a>
                                <ul class="dropdown-menu" aria-labelledby="dropdownSubjects">
                                    <li><a class="dropdown-item" aria-current="page" href="/monthis">Danh sách môn thi</a></li>
                                    <li><a class="dropdown-item" aria-current="page" href="/monthis/add">Thêm môn thi</a></li>
                                </ul>
                            </div>
                        </div>

                        <!-- Dropdown cho đề thi -->
                        <div class="dropdown-container">
                            <div class="dropdown me-3">
                                <img th:src="@{/img/anh_dethi_rbg1.jpg}" alt="Ảnh Đề Thi">
                                <a class="navbar-brand dropdown-toggle" href="#" role="button" id="dropdownExam" data-bs-toggle="dropdown" aria-expanded="false">
                                    Quản lý đề thi
                                </a>
                                <ul class="dropdown-menu" aria-labelledby="dropdownExam">
                                    <li><a class="dropdown-item" aria-current="page" href="/dethis">Danh sách đề thi</a></li>
                                    <li><a class="dropdown-item" aria-current="page" href="/dethis/add">Thêm đề thi</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</nav>

<div class="container mt-5">
    <section layout:fragment="content">
        <!-- Nội dung cụ thể của từng trang sẽ được đặt tại đây -->
    </section>
</div>

<footer class="bg-primary text-white text-center py-4 mt-5">
    <div class="container d-flex justify-content-between">
        <div class="footer-left">
            <h5 class="mb-0">Trắc nghiệm NTT</h5>
            <p class="mb-0">© 2024 Tất cả quyền được bảo lưu.</p>
        </div>
        <div class="footer-content">
            <h5 class="mb-0">Thông tin liên hệ</h5>
            <p class="mb-0">Liên hệ: phanhieunghia1054@gmail.com</p>
        </div>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>