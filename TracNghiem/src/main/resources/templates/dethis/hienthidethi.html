<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml"
      xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" th:href="@{/css/giaodienthi.css}">
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.1/css/jquery.dataTables.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"></script>
    <style>
        body {
            padding:0px;
        }
        header {
            background-color: #0d6efd; /* Màu nền header */
            color: #fff;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Đổ bóng cho header */
        }
        .section-title {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5rem;
            color: #343a40; /* Màu chữ */
        }
        .search-container {
            margin-bottom: 20px;
            display: flex;
            justify-content: center; /* Căn giữa */
            gap: 10px; /* Khoảng cách giữa các phần tử */
        }
        .custom-input, .custom-select {
            border: 2px solid #0d6efd; /* Màu viền */
            border-radius: 10px; /* Bo tròn các góc */
            padding: 10px; /* Khoảng cách bên trong */
        }
        .table {
            background-color: #fff; /* Màu nền bảng */
            border-radius: 10px; /* Bo tròn các góc của bảng */
            overflow: hidden; /* Ẩn phần viền bảng */
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1); /* Đổ bóng */
        }
        .table th {
            background-color: #0d6efd; /* Nền cho tiêu đề bảng */
            color: #fff; /* Màu chữ tiêu đề */
        }
        .text-ellipsis {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 150px;
        }
        .nav {
            list-style: none; /* Xóa dấu chấm */
            padding: 0;
            margin: 0;
        }
        .nav-item {
            margin-left: 20px; /* Khoảng cách giữa các item */
        }
        .nav-link {
            text-decoration: none; /* Xóa gạch chân */
            transition: color 0.3s; /* Hiệu ứng chuyển màu */
        }
        .nav-link:hover {
            color: #ffcc00; /* Màu khi hover */
        }
        .py-0 {
            padding-top:0px;
            padding-bottom:opx;"
        }
        @keyframes blink {
            0% {
                background-color: #ffffff; /* Màu nền ban đầu (trắng) */
            }
            50% {
                background-color: #00BFFF; /* Màu nền giữa (xanh dương nhạt) */
            }
            100% {
                background-color: #ffffff; /* Trở lại màu nền ban đầu (trắng) */
            }
        }

        header {
            animation: blink 5s infinite; /* Áp dụng animation lấp lánh */
        }

        .nav-link {
            color: #000; /* Màu chữ ban đầu */
            transition: color 0.5s ease;
        }

        header:hover .nav-link {
            color: #000080; /* Màu chữ khi hover (xanh đậm) */
        }
        .li-container {
            display: flex; /* Sử dụng Flexbox để chia thành hai phần */
            justify-content: space-between; /* Căn giữa các phần tử */
            align-items: center; /* Căn giữa theo chiều dọc */
        }

        .part1 {
            flex: 1; /* Chiếm không gian còn lại */
            /* Thêm các thuộc tính khác nếu cần */
        }

        .part2 {
            flex: 1; /* Chiếm không gian còn lại */
            /* Thêm các thuộc tính khác nếu cần */
        }
    </style>
    <title>Giao diện thi</title>
</head>
<body>

<header>
    <div class="container">
        <div class="d-flex justify-content-between align-items-center py-0">
            <div class="logo d-flex align-items-center" style="white-space: nowrap;">
                <img th:src="@{/img/logo_khongnen.png}" alt="" height="100" width="180">
                <p class="text-black mb-0 link-hover" style="color:black; margin-left: 50px;"> <!-- Thêm margin-left 50px -->
                    <strong>
                        Xin chào: <span sec:authentication="name"></span>
                        đến với bài thi <span th:text="${'môn ' + thongtinde.monthi.tenmonthi}"></span>
                        với <span th:text="${'mã đề ' + thongtinde.madethi}"></span>
                    </strong>
                </p>
                <div class="ml-3" style="color:black; margin-left: 100px !important ;font-weight: bold;">
                    <p class="mb-0">| Thời gian hiện tại: <span id="time"></span> |</p>
                </div>
            </div>


        </div>
    </div>
</header>

<div class="content" id="content">
    <div class="row">
        <div class="col-2" style="background-color: #f8f9fa;">

        </div>
        <div class="col-8">
            <h1 style="text-align: center" th:text="${'Ma De: '+thongtinde.madethi}"></h1>
            <h1 style="text-align: center" th:text="${'Ten Mon Thi: '+thongtinde.monthi.tenmonthi}"></h1>
            <ul class="quiz">
                <li th:each="baithi, stat : ${dethis}" class="li-container">
                   <span class="part1">
                        <div class="question-container">
                            <h4 th:utext="${'Câu hỏi ' + (stat.index + 1) + ': ' + baithi.cauhoi.ten}"></h4>
                        </div>
                    <ul class="choices">
                        <li>
                            <label class="choice-label">
                                <input type="radio" th:name="${baithi.id}" th:value="${baithi.cauhoi.dapanA}" />
                                <span th:text="${'A.  '+baithi.cauhoi.dapanA}"></span>
                            </label>
                        </li>
                        <li>
                            <label class="choice-label">
                                <input type="radio" th:name="${baithi.cauhoi.id}" th:value="${baithi.cauhoi.dapanB}" />
                                <span th:text="${'B.  '+baithi.cauhoi.dapanB}"></span>
                            </label>
                        </li>
                        <li>
                            <label class="choice-label">
                                <input type="radio" th:name="${baithi.cauhoi.id}" th:value="${baithi.cauhoi.dapanC}" />
                                <span th:text="${'C.  '+baithi.cauhoi.dapanC}"></span>
                            </label>
                        </li>
                        <li>
                            <label class="choice-label">
                                <input type="radio" th:name="${baithi.cauhoi.id}" th:value="${baithi.cauhoi.dapanD}" />
                                <span th:text="${'D.  '+baithi.cauhoi.dapanD}"></span>
                            </label>
                        </li>
                    </ul>
                   </span>
                    <span class="image-part" th:if="${baithi.cauhoi.imgUrl != null and baithi.cauhoi.imgUrl != ''}">
                        <img th:src="${baithi.cauhoi.imgUrl}" alt="Hình ảnh câu hỏi" height="180" width="180" />
                    </span>
                </li>
            </ul>
            <button class="view-results" onclick="returnScore()">Nop Bai</button>
        </div>
        <div class="col-2"style="background-color: #f8f9fa;">

        </div>
    </div>
</div>

<footer class="bg-primary text-white text-center py-4 mt-5" style="margin:0px !important;">
    <div class="container d-flex justify-content-between text-footer">
        <div class="footer-left">
            <h5 class="mb-0">Trắc nghiệm NTT</h5>
            <p class="mb-0">© 2024 Tất cả quyền được bảo lưu.</p>
        </div>
        <div class="footer-content">
            <h5 class="mb-0">Thông tin liên hệ</h5>
            <p class="mb-0">Liên hệ: phanhieunghia1054@gmail.com</p>
        </div>
    </div>
</footer>
<script>
    function fetchTime() {
        fetch('/time')
            .then(response => response.text())
            .then(data => {
                document.getElementById('time').innerText = data;
            });
    }

    // Gọi hàm fetchTime để cập nhật thời gian ngay khi tải trang
    fetchTime();
    setInterval(fetchTime, 1000); // Cập nhật mỗi giây
</script>
<script src="js/scripts.js"></script>

</body>
</html>